(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e.apply(this,arguments)}function t(e,t,r,a,s,o,i){try{var n=e[o](i),l=n.value}catch(e){return void r(e)}n.done?t(l):Promise.resolve(l).then(a,s)}function r(e){return function(){var r=this,a=arguments;return new Promise((function(s,o){var i=e.apply(r,a);function n(e){t(i,s,o,n,l,"next",e)}function l(e){t(i,s,o,n,l,"throw",e)}n(void 0)}))}}var a=["LoginScreen","VideoRecommendationPlugin","ChartbeatPlugin"],s=()=>{var e;return(null==globalThis||null==(e=globalThis.cdaaas)||null==(e=e.SETTINGS)?void 0:e.PLAYER)||{}},o=function(){var e=r((function*(e){var t={};return globalThis.getPlayerAssetsManager&&(yield globalThis.getPlayerAssetsManager(),t=e?yield globalThis.playerAssetsManager.getPluginsByProfile(e,!0):yield globalThis.playerAssetsManager.getPlugins(a,!0)),t}));return function(t){return e.apply(this,arguments)}}(),i=function(){var t=r((function*(t){var r,a,{videoID:i,assetsProfileId:n,autoPlay:l=!1,bsplayer:d={},customPlayerOptions:u={}}=void 0===t?{}:t,c=s().OPTIONS,y={};try{y=yield o(n)}catch(e){console.error("[bs-player::__GetBSPlayerConfigs] error on getPlugins")}var g,h,v,p,b,_,P,f={plugins:y,loginScreenOptions:{content:{description:"Faça seu login grátis e tenha acesso ilimitado às exclusividades "+((null==(r=window.cdaaas)||null==(r=r.SETTINGS)?void 0:r.SITE_NAME)||"")},tenantId:(null==(a=window.cdaaas)||null==(a=a.SETTINGS)?void 0:a.SITE_ID)||""}},A=(()=>{var e=s().ASYNC_OPTIONS,t={},r=!1;return e&&Object.keys(e).forEach((a=>{e[a]&&(t[a]=e[a],r=!0)})),r?t:null})();return A&&(d.asyncIsDone=!0),e({videosIDs:i,width:"100%",height:"100%",persistConfig:!1,autoPlay:l},c,u,f,{events:{onCanPlay:()=>{d.canPlayResolve()},onError:e=>{d.onErrorResolve(e),console.error(e)}}},{ga:{productUA:window.gaId||(null==(g=window.cdaaas)?void 0:g.SETTINGS.PRODUCT_UA)||"",extras:{dimension98:(null==(h=window.dataLayer)||null==(h=h.find((e=>"bd_suser_provider"in e)))?void 0:h.bd_suser_provider)||"",dimension99:(null==(v=window.dataLayer)||null==(v=v.find((e=>"bd_suser_code"in e)))?void 0:v.bd_suser_code)||""}},ga4:(P={ga4MetricId:"G-4DF8YFDHV7",user_code:"",user_code_provider:""},null!=(p=window.libAnalytics)&&p.status.dataAvailable?(P.user_code=window.libAnalytics.data.get("user_code").user_code,P.user_code_provider=window.libAnalytics.data.get("user_code_provider").user_code_provider):(P.user_code=(null==(b=window.dataLayer)||null==(b=b.find((e=>"bd_suser_code"in e)))?void 0:b.bd_suser_code)||"",P.user_code_provider=(null==(_=window.dataLayer)||null==(_=_.find((e=>"bd_suser_provider"in e)))?void 0:_.bd_suser_provider)||""),{user_id:P.user_code,endpoint_keys:{measurementId:P.ga4MetricId},user_properties:{user_code_provider:P.user_code_provider,user_code:P.user_code}})},A)}));return function(e){return t.apply(this,arguments)}}();class n extends HTMLElement{constructor(){super(),this.canPlay=new Promise((e=>{this.canPlayResolve=e})),this.onError=new Promise((e=>{this.onErrorResolve=e})),this.version="1.9.2"}connectedCallback(){this.isConnected&&this.parentElement&&(this.lazy&&"complete"!==document.readyState?this.setLazyAttach():this.__attachPlayerToContainer())}setLazyAttach(){window.addEventListener("load",this.onLoaded.bind(this))}onLoaded(){window.removeEventListener("load",this.onLoaded),this.__attachPlayerToContainer()}getOptionsByAttributes(){for(var{length:e}=this.attributes,t={},r="data-opt-",a=0;a<e;a++){var{name:s,value:o}=this.attributes[a];if(s.startsWith(r)){var i=s.split(r)[1].toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase())),n=""===o||o;i&&(t[i]=n)}}return t}__attachPlayerToContainer(){var t=this;return r((function*(){if(!globalThis.WM){var r=!1;if(globalThis.getPlayerAssetsManager)try{yield globalThis.getPlayerAssetsManager(),yield globalThis.playerAssetsManager.getAsset(globalThis.playerAssetsManager.config.WM)}catch(e){console.error("[bs-player::__attachPlayerToContainer] error on getPlayerAssetsManager",e),r=!0}else r=!0;if(globalThis.globalWebdeps&&r)try{yield globalThis.globalWebdeps("player")}catch(e){console.error('[bs-player::__attachPlayerToContainer] error on globalWebdeps("player")',e)}}try{yield globalThis.WM.playerAvailable;var a=t.getOptionsByAttributes();t.playerConfigs=yield i({videoID:t.videoid,assetsProfileId:t.assetsProfileId,autoPlay:t.autoplay,bsplayer:t,customPlayerOptions:a}),t.WMPlayer=new globalThis.WM.Player(t.playerConfigs),t.asyncIsDone||function(t,r,a){void 0===r&&(r={}),void 0===a&&(a=()=>{});var o=s();o.getAsyncData&&o.getAsyncData().then((s=>{a(),t.configure(e({},r,{adCustomData:s.adCustomData}))}))}(t.WMPlayer,t.playerConfigs,(()=>{t.asyncIsDone=!0})),t.WMPlayer.attachTo(t),t.isReady=!0,t.onReady&&t.onReady()}catch(e){console.error(e)}}))()}version(){return this.version}get videoid(){return this.getAttribute("videoid")}set videoid(e){this.setAttribute("videoid",e)}get assetsProfileId(){return this.getAttribute("data-assets-profile")}set assetsProfileId(e){this.setAttribute("data-assets-profile",e)}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){e?this.setAttribute("autoplay",""):this.removeAttribute("autoplay")}get lazy(){return this.hasAttribute("lazy")}set lazy(e){e?this.setAttribute("lazy",""):this.removeAttribute("lazy")}seek(e){this.WMPlayer.seek(e)}}customElements.define("bs-player",n)})();